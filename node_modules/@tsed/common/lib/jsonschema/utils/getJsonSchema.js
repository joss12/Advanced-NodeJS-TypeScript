"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.deleteSchema = exports.getJsonSchema = void 0;
const JsonSchemesRegistry_1 = require("../registries/JsonSchemesRegistry");
const caches = new Map();
/**
 * Get json schema of the given model.
 *
 * ::: warning
 * Will be remove in v7 in favor of getJsonSchema from @tsed/schema.
 * :::
 *
 * @param target
 */
function getJsonSchema(target) {
    if (!caches.has(target)) {
        caches.set(target, JsonSchemesRegistry_1.JsonSchemesRegistry.getSchemaDefinition(target));
    }
    return caches.get(target);
}
exports.getJsonSchema = getJsonSchema;
function deleteSchema(target) {
    caches.delete(target);
}
exports.deleteSchema = deleteSchema;
//# sourceMappingURL=getJsonSchema.js.map